<svg xmlns="http://www.w3.org/2000/svg" height="634" preserveAspectRatio="none" style="width:1167px;height:634px" width="1167">
  <defs>
    <filter height="300%" id="a" width="300%" x="-1" y="-1">
      <feGaussianBlur result="blurOut" stdDeviation="2"/>
      <feColorMatrix in="blurOut" result="blurOut2" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/>
      <feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"/>
      <feBlend in="SourceGraphic" in2="blurOut3"/>
    </filter>
  </defs>
  <text font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="305" x="433.5" y="28.708">
    PISP Linking: Authentication (OTP)
  </text>
  <path fill="#DDD" stroke="#a80036" d="M498.5 40.953h73v587.25h-73z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="67" x="501.5" y="53.02">
    Mojaloop
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#a80036" d="M530 297.313h10v163.063h-10zM929 431.242h10v149.664h-10z"/>
  <path stroke="#a80036" d="M141 95.383v10"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M141 105.383v28"/>
  <path stroke="#a80036" d="M141 133.383v39.133"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M141 172.516v28"/>
  <path stroke="#a80036" d="M141 200.516v389.39M534.5 95.383v10"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M534.5 105.383v28"/>
  <path stroke="#a80036" d="M534.5 133.383v39.133"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M534.5 172.516v28"/>
  <path stroke="#a80036" d="M534.5 200.516v389.39M933.5 95.383v10"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M933.5 105.383v28"/>
  <path stroke="#a80036" d="M933.5 133.383v39.133"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M933.5 172.516v28"/>
  <path stroke="#a80036" d="M933.5 200.516v389.39"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M117 60.086h44v30.297h-44z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="124" y="80.081">
    PISP
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M117 588.906h44v30.297h-44z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="124" y="608.901">
    PISP
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M503.5 60.086h59v30.297h-59z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="45" x="510.5" y="80.081">
    Switch
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M503.5 588.906h59v30.297h-59z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="45" x="510.5" y="608.901">
    Switch
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M906.5 60.086h51v30.297h-51z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="913.5" y="80.081">
    DFSP
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M906.5 588.906h51v30.297h-51z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="913.5" y="608.901">
    DFSP
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#a80036" d="M530 297.313h10v163.063h-10zM929 431.242h10v149.664h-10z"/>
  <path d="M5 138.383v25h1062v-15l-10-10H5" fill="#FBFB77" filter="url(#a)" stroke="#a80036"/>
  <path d="M1057 138.383v10h10l-10-10" fill="#FBFB77" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="1041" x="11" y="155.45">
    Here the user provides the OTP sent directly to them by the DFSP into the PISP App. It&apos;s then used as the secret to prove to the DFSP that the user trusts the PISP.
  </text>
  <path fill="#A80036" stroke="#a80036" d="M518 293.313l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M141 297.313h383"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="148" y="254.415">
    AUTH-1
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="208" x="205" y="216.583">
    PATCH /consentRequests/456
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="237" y="231.715">
    FSIOP-Source: pispa
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="237" y="246.848">
    FSIOP-Destination: dfspa
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="213" y="261.981">
    {
  </text>
  <text font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="280" x="237" y="277.114">
    authToken: &quot;&lt;OTP&gt;&quot; // This is new !
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="221" y="292.247">
    }
  </text>
  <path fill="#A80036" stroke="#a80036" d="M152 322.445l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M146 326.445h383"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="158" y="321.379">
    AUTH-2
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="215" y="321.379">
    202 Accepted
  </text>
  <path fill="#A80036" stroke="#a80036" d="M917 427.242l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M540 431.242h383"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="547" y="388.344">
    AUTH-3
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="208" x="604" y="350.512">
    PATCH /consentRequests/456
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="636" y="365.645">
    FSIOP-Source: pispa
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="636" y="380.778">
    FSIOP-Destination: dfspa
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="612" y="395.911">
    {
  </text>
  <text font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="280" x="636" y="411.043">
    authToken: &quot;&lt;OTP&gt;&quot; // This is new !
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="620" y="426.176">
    }
  </text>
  <path fill="#A80036" stroke="#a80036" d="M546 456.375l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M540 460.375h388"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="552" y="455.309">
    AUTH-4
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="609" y="455.309">
    202 Accepted
  </text>
  <path stroke="#a80036" d="M939 489.508h42M981 489.508v13M940 502.508h41"/>
  <path fill="#A80036" stroke="#a80036" d="M950 498.508l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="946" y="484.442">
    AUTH-5
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="157" x="1003" y="484.442">
    Verify the OTP is correct.
  </text>
  <path d="M32 515.508v55h1007v-45l-10-10H32" fill="#FBFB77" filter="url(#a)" stroke="#a80036"/>
  <path d="M1029 515.508v10h10l-10-10" fill="#FBFB77" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="986" x="38" y="532.575">
    At this point, the DFSP believes that the User is their customer and that User trusts the PISP. This means that the DFSP can continue by granting consent.
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="820" x="38" y="562.84">
    Note that the DFSP never &quot;responds&quot; to the Consent Request itself. Instead, it will create a Consent resource in the Grant phase.
  </text>
</svg>
